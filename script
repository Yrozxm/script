-- R6 ONLY
-- Minimum 4 hats
-- joao

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local torso = character:FindFirstChild("Torso")
local humanoid = character:WaitForChild("Humanoid")

local Parts = {}
local Attachments = {}
local Connections = {}
local Extended = false
local isR6 = torso ~= nil

-- ALIGN FUNCTION
local function align(part, parent)
    local att0 = Instance.new("Attachment", part)
    local att1 = Instance.new("Attachment", parent)
    att1.Position = Vector3.new(0,5,0)

    local ap = Instance.new("AlignPosition", part)
    ap.Attachment0 = att0
    ap.Attachment1 = att1
    ap.MaxForce = 1e7
    ap.Responsiveness = 200
    ap.ApplyAtCenterOfMass = true

    local ao = Instance.new("AlignOrientation", part)
    ao.Attachment0 = att0
    ao.Attachment1 = att1
    ao.MaxTorque = 1e7
    ao.Responsiveness = 200

    return att1
end

-- CONVERT HATS TO PARTS
for _, acc in ipairs(character:GetChildren()) do
    if acc:IsA("Accessory") and acc:FindFirstChild("Handle") then
        local handle = acc.Handle
        local part = Instance.new("Part")
        part.Size = handle.Size
        part.CFrame = handle.CFrame
        part.Color = handle.Color
        part.Material = handle.Material
        part.Transparency = handle.Transparency
        part.Massless = true
        part.CanCollide = false
        part.Name = "FakePart"
        part.Parent = workspace

        table.insert(Parts, part)
        table.insert(Attachments, align(part, torso))
        acc:Destroy()
    end
end

-- UPDATE POSITIONS
local function updatePositions()
    for i, att in ipairs(Attachments) do
        if not Extended then
            att.Position = Vector3.zero
        else
            if i == 1 then
                att.Position = Vector3.new(-0.55,-1.35,-1)
            elseif i == 2 then
                att.Position = Vector3.new(0.55,-1.35,-1)
            else
                att.Position = Vector3.new(0,-1,(i-2)*-1)
            end
        end
    end
end
updatePositions()

-- TOGGLE EXTEND
Connections[#Connections+1] = UIS.InputBegan:Connect(function(input,gp)
    if gp then return end
    if input.KeyCode == Enum.KeyCode.Q then
        Extended = not Extended
        updatePositions()
    end
end)

-- NETLESS PARTS
Connections[#Connections+1] = RunService.Heartbeat:Connect(function()
    for _, part in ipairs(Parts) do
        part.AssemblyLinearVelocity = Vector3.new(-30,0,0)
        part.AssemblyAngularVelocity = Vector3.zero
    end
end)

-- CLEANUP ON DEATH
humanoid.Died:Connect(function()
    for _, c in ipairs(Connections) do
        c:Disconnect()
    end
    for _, p in ipairs(Parts) do
        p:Destroy()
    end
end)

-- NOTIFICATION FUNCTION
local function showNotification(message)
    local notificationGui = Instance.new("ScreenGui")
    notificationGui.Name = "NotificationGui"
    notificationGui.Parent = game.CoreGui

    local notificationFrame = Instance.new("Frame")
    notificationFrame.Size = UDim2.new(0, 300, 0, 50)
    notificationFrame.Position = UDim2.new(0.5, -150, 1, -60)
    notificationFrame.AnchorPoint = Vector2.new(0.5, 1)
    notificationFrame.BackgroundColor3 = Color3.fromRGB(40,40,40)
    notificationFrame.BorderSizePixel = 0
    notificationFrame.Parent = notificationGui

    local uicorner = Instance.new("UICorner")
    uicorner.CornerRadius = UDim.new(0,10)
    uicorner.Parent = notificationFrame

    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1,-20,1,0)
    textLabel.Position = UDim2.new(0,10,0,0)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = message .. " | by pyst"
    textLabel.TextColor3 = Color3.fromRGB(255,255,255)
    textLabel.Font = Enum.Font.SourceSansBold
    textLabel.TextSize = 18
    textLabel.TextXAlignment = Enum.TextXAlignment.Left
    textLabel.Parent = notificationFrame

    notificationFrame.BackgroundTransparency = 1
    textLabel.TextTransparency = 1

    TweenService:Create(notificationFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {BackgroundTransparency = 0}):Play()
    TweenService:Create(textLabel, TweenInfo.new(0.5, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {TextTransparency = 0}):Play()

    task.delay(5,function()
        TweenService:Create(notificationFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quint, Enum.EasingDirection.In), {BackgroundTransparency=1}):Play()
        TweenService:Create(textLabel, TweenInfo.new(0.5, Enum.EasingStyle.Quint, Enum.EasingDirection.In), {TextTransparency=1}):Play()
        task.delay(0.5,function() notificationGui:Destroy() end)
    end)
end

-- Show rig type notification
if isR6 then
    showNotification("üåü R6 detected!")
else
    showNotification("‚ú® R15 detected!")
end

-- CREATE DARK GUI
local gui = Instance.new("ScreenGui")
gui.Name = "BangGui"
gui.Parent = game.CoreGui

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 300, 0, 300)
mainFrame.AnchorPoint = Vector2.new(0.5,0.5)
mainFrame.Position = UDim2.new(0.5,0,0.5,0)
mainFrame.BackgroundColor3 = Color3.fromRGB(30,30,30)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = gui

local uicorner = Instance.new("UICorner")
uicorner.CornerRadius = UDim.new(0,20)
uicorner.Parent = mainFrame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,-60,0,30)
title.Position = UDim2.new(0,10,0,0)
title.BackgroundTransparency = 1
title.Text = "Yrozxm Script üêÄ"
title.TextColor3 = Color3.fromRGB(220,220,220)
title.Font = Enum.Font.SourceSansBold
title.TextSize = 24
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = mainFrame

-- Close Button
local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0,30,0,30)
closeButton.Position = UDim2.new(1,-40,0,0)
closeButton.BackgroundColor3 = Color3.fromRGB(200,50,50)
closeButton.Text = "X"
closeButton.Font = Enum.Font.SourceSansBold
closeButton.TextSize = 20
closeButton.TextColor3 = Color3.fromRGB(255,255,255)
closeButton.Parent = mainFrame

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0,10)
closeCorner.Parent = closeButton

closeButton.MouseButton1Click:Connect(function()
    gui:Destroy()
end)

-- Minimize Button
local minimizeButton = Instance.new("TextButton")
minimizeButton.Size = UDim2.new(0,30,0,30)
minimizeButton.Position = UDim2.new(1,-80,0,0)
minimizeButton.BackgroundColor3 = Color3.fromRGB(180,180,50)
minimizeButton.Text = "-"
minimizeButton.Font = Enum.Font.SourceSansBold
minimizeButton.TextSize = 20
minimizeButton.TextColor3 = Color3.fromRGB(255,255,255)
minimizeButton.Parent = mainFrame

local minimizeCorner = Instance.new("UICorner")
minimizeCorner.CornerRadius = UDim.new(0,10)
minimizeCorner.Parent = minimizeButton

local minimized = false
minimizeButton.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        mainFrame:TweenSize(UDim2.new(0,300,0,30), Enum.EasingDirection.In, Enum.EasingStyle.Quint,0.5)
    else
        mainFrame:TweenSize(UDim2.new(0,300,0,300), Enum.EasingDirection.Out, Enum.EasingStyle.Quint,0.5)
    end
end)

-- Scrolling Frame
local scrollingFrame = Instance.new("ScrollingFrame")
scrollingFrame.Size = UDim2.new(1,-20,1,-50)
scrollingFrame.Position = UDim2.new(0,10,0,40)
scrollingFrame.BackgroundTransparency = 1
scrollingFrame.CanvasSize = UDim2.new(0,0,0,300)
scrollingFrame.ScrollBarThickness = 6
scrollingFrame.Parent = mainFrame

local layout = Instance.new("UIListLayout")
layout.Padding = UDim.new(0,10)
layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
layout.Parent = scrollingFrame

-- Buttons
local buttons = {
    {name="üéØ Bang V2", r6="https://pastebin.com/raw/aPSHMV6K", r15="https://pastebin.com/raw/1ePMTt9n"},
    {name="üéâ Get Banged", r6="https://pastebin.com/raw/zHbw7ND1", r15="https://pastebin.com/raw/7hvcjDnW"},
    {name="üí• Suck", r6="https://pastebin.com/raw/SymCfnAW", r15="https://pastebin.com/raw/p8yxRfr4"},
    {name="üî• Get Suc", r6="https://pastebin.com/raw/FPu4e2Qh", r15="https://pastebin.com/raw/DyPP2tAF"},
    {name="‚ö° Jerk", r6="https://pastefy.app/wa3v2Vgm/raw", r15="https://pastefy.app/YZoglOyJ/raw"}
}

for _, buttonData in ipairs(buttons) do
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0.8,0,0,40)
    button.BackgroundColor3 = Color3.fromRGB(50,50,50)
    button.Text = buttonData.name
    button.Font = Enum.Font.SourceSansBold
    button.TextSize = 20
    button.TextColor3 = Color3.fromRGB(255,255,255)
    button.Parent = scrollingFrame

    local uicorner = Instance.new("UICorner")
    uicorner.CornerRadius = UDim.new(0,10)
    uicorner.Parent = button

    button.MouseButton1Click:Connect(function()
        if isR6 then
            loadstring(game:HttpGet(buttonData.r6))()
        else
            loadstring(game:HttpGet(buttonData.r15))()
        end
    end)
end
